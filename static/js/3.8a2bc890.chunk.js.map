{"version":3,"sources":["components/login/Login.jsx","components/login/LoginContainer.jsx"],"names":["LoginReduxForm","reduxForm","form","props","onSubmit","handleSubmit","createField","Input","requiredField","type","isLoginSuccess","className","css","error","errorMessage","data-sitekey","id","style","display","Login","isAuth","to","formData","console","log","loginThunkCreator","login","password","rememberMe","LoginApiComponent","script","document","createElement","async","src","head","appendChild","this","React","Component","LoginContainer","connect","state","auth"],"mappings":"6NA6CMA,EAAiBC,YAAU,CAACC,KAAM,SAAjBD,EApBL,SAACE,GACf,OACI,0BAAMC,SAAUD,EAAME,cACjBC,YAAY,QAAS,QAASC,IAAO,CAACC,MACtCF,YAAY,WAAY,WAAYC,IAAO,CAACC,KACzC,CAACC,KAAM,aACVH,YAAY,aAAc,GAAIC,IAAO,KAClC,CAACE,KAAM,YAAa,eACxB,iCAAM,yCAAN,MACEN,EAAMO,gBACR,6BACI,0BAAMC,UAAWC,IAAIC,OAAQV,EAAMW,eAEvC,yBAAKH,UAAU,uBACVI,eAAa,6CAClB,0BAAMC,GAAG,eAAeL,UAAU,8BAA8BM,MAAO,CAACC,QAAS,SAAjF,SAOGC,EAvCD,SAAChB,GAOX,OACI,6BACI,qCACCA,EAAMiB,OAAS,kBAAC,IAAD,CAAUC,GAAI,aAC1B,kBAACrB,EAAD,eAAgBI,SATX,SAACkB,GACdC,QAAQC,IAAIF,GACZnB,EAAMsB,kBAAkBH,EAASI,MAAOJ,EAASK,SAAUL,EAASM,cAOpBzB,M,eCblD0B,E,4LAGE,IAAMC,EAASC,SAASC,cAAc,UACtCF,EAAOG,OAAQ,EACfH,EAAOI,IAAM,0CACbH,SAASI,KAAKC,YAAYN,K,+BAI1B,OAAO,kBAAC,EAAUO,KAAKlC,W,GAVCmC,IAAMC,WAsBlCC,EAAiBC,aARG,SAACC,GACrB,MAAO,CACHtB,OAAQsB,EAAMC,KAAKvB,OACnBN,aAAc4B,EAAMC,KAAK7B,aACzBJ,eAAgBgC,EAAMC,KAAKjC,kBAIW,CAACe,uBAA1BgB,CAA8CZ,GAEpDW","file":"static/js/3.8a2bc890.chunk.js","sourcesContent":["import React from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {createField, Input} from \"../FormsControls/FormsControls\";\r\nimport {requiredField} from \"../../utils/validators\";\r\nimport css from \"../FormsControls/FormsControls.module.css\";\r\n\r\n\r\nconst Login = (props) => {\r\n\r\n    const onSubmit = (formData) => {\r\n        console.log(formData);\r\n        props.loginThunkCreator(formData.login, formData.password, formData.rememberMe);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <h1>Login</h1>\r\n            {props.isAuth ? <Redirect to={\"/profile\"}/> :\r\n                <LoginReduxForm onSubmit={onSubmit} {...props} />\r\n            }\r\n        </div>\r\n    )\r\n};\r\n\r\nconst LoginForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            {createField(\"login\", \"login\", Input, [requiredField])}\r\n            {createField(\"password\", \"password\", Input, [requiredField],\r\n                {type: \"password\"})}\r\n            {createField(\"rememberMe\", \"\", Input, null,\r\n                {type: \"checkbox\"}, \"remember me\")}\r\n            <div> <button>Login</button> </div>\r\n            {!props.isLoginSuccess &&\r\n            <div>\r\n                <span className={css.error}>{props.errorMessage}</span>\r\n            </div>}\r\n            <div className=\"g-recaptcha col-sm-5\"\r\n                 data-sitekey=\"6LcwtugUAAAAAJV6-_hi0LUyRTWQISpxSNLxnezj\" />\r\n            <span id=\"captchaError\" className=\"alert alert-danger col-sm-4\" style={{display: 'none'}}> </span>\r\n        </form>\r\n    )\r\n};\r\n\r\nconst LoginReduxForm = reduxForm({form: \"login\"})(LoginForm);\r\n\r\nexport default Login;","import React from \"react\";\r\nimport Login from \"./Login\";\r\nimport {connect} from \"react-redux\";\r\nimport {loginThunkCreator} from \"../../redux/reducers/auth-reducer\";\r\n\r\n\r\nclass LoginApiComponent extends React.Component {\r\n\r\n    componentDidMount() {\r\n        const script = document.createElement(\"script\");\r\n        script.async = true;\r\n        script.src = \"https://www.google.com/recaptcha/api.js\";\r\n        document.head.appendChild(script);\r\n    }\r\n\r\n    render() {\r\n        return <Login {...this.props}/>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        errorMessage: state.auth.errorMessage,\r\n        isLoginSuccess: state.auth.isLoginSuccess\r\n    }\r\n};\r\n\r\nlet LoginContainer = connect(mapStateToProps, {loginThunkCreator})(LoginApiComponent);\r\n\r\nexport default LoginContainer;"],"sourceRoot":""}